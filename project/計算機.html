<!DOCTYPE html>
<html>
    <head>
        <title>計算機</title>
    </head>     



<script>
    var total = 0; //總和
    var save  = 0; //輸入暫存
    var calcu = -1; //運算符號
    var clean = false; //清除




    //數字鍵與小數點

    function num(str) {

        if (clean == true) {
            document.getElementById("box").value = "";
            clean = false;
        }
        document.getElementById("box").value += str;


    }


    //運算符號

    function operBtn(str) {

        if (calcu == -1) { //第一次輸入
            total = parseFloat(document.getElementById("box").value);
        } 
        else { //如果不是第一次
            save = parseFloat(document.getElementById("box").value);
            if (calcu == 1) { //上次點+
                total=total+save;
                document.getElementById("box").value = parseFloat(total);
            }
            if (calcu == 2) { //上次點-
                total=total-save;
                document.getElementById("box").value = parseFloat(total);
            }
            if (calcu == 3) { //上次點*
                total=total*save;
                document.getElementById("box").value = parseFloat(total);
            }
            if (calcu == 4) { //上次點/
                total=total/save;
                document.getElementById("box").value = parseFloat(total);
            }

        }

        if (str == '=') { //如果按等號就停止
            calcu = -1;
            clean = true;
            return;
        }




        if (str == '+') {
            calcu = 1;
        } 
        else if (str == '-') {
            calcu = 2;
        } 
        else if (str == '*') {
            calcu = 3;
        } 
        else if (str == '/') {
            calcu = 4;
        }

        clean = true; //清除欄位



    }
</script>




<body>

<table border=0>
    
    <tr>
        <td align="center" colspan="6"> 
            <input align="right" type="text" value="" id="box"  />
        </td>
    </tr>
    
    <tr align="center">
        <td>    <input  type="button" value="1" onClick="num('1')">  </td>
        <td>    <input  type="button" value="2" onClick="num('2')">  </td>
        <td>    <input  type="button" value="3" onClick="num('3')">  </td>
        <td>    <input  type="button" value="+" onClick="operBtn('+')"> </td>
    </tr>

    <tr align="center">
        <td>    <input  type="button" value="4" onClick="num('4')">  </td>
        <td>    <input  type="button" value="5" onClick="num('5')">  </td>
        <td>    <input  type="button" value="6" onClick="num('6')">  </td>
        <td>    <input  type="button" value="-" onClick="operBtn('-')"> </td>
    </tr>

    <tr align="center">
        <td>    <input  type="button" value="7" onClick="num('7')">  </td>
        <td>    <input  type="button" value="8" onClick="num('8')">  </td>
        <td>    <input  type="button" value="9" onClick="num('9')">  </td>
        <td>    <input  type="button" value="*" onClick="operBtn('*')"> </td>
    </tr>

    <tr align="center">
        <td>    <input  type="button" value="0" onClick="num('0')">  </td>
        <td>    <input  type="button" value="." onClick="num('.')">  </td>
        <td>    <input  type="button" value="=" onClick="operBtn('=')"> </td>
        <td>    <input  type="button" value="/" onClick="operBtn('/')"> </td>
    </tr>
    
</table>
</body>
    
    
</html>    
